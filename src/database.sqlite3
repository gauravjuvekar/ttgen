CREATE TABLE batches_timeranges (
    "pk"    INTEGER NOT NULL PRIMARY KEY,
    "batch" INTEGER NOT NULL,
    "start" INTEGER NOT NULL,
    "end"   INTEGER NOT NULL,
    FOREIGN KEY (batch) REFERENCES batches(pk)
);
CREATE TABLE batches_subjects (
    "pk"      INTEGER NOT NULL PRIMARY KEY,
    "batch"   INTEGER NOT NULL,
    "subject" INTEGER NOT NULL,
    FOREIGN KEY (subject) REFERENCES subjects(pk),
    FOREIGN KEY (batch)   REFERENCES batches(pk)
);
CREATE TABLE batches (
    "pk"     INTEGER NOT NULL PRIMARY KEY,
    "name"   TEXT    NOT NULL,
    "heads"  INTEGER NOT NULL,
    "parent" INTEGER,
    FOREIGN KEY (parent) REFERENCES batches(pk)
);
CREATE TABLE rooms (
    "pk"       INTEGER NOT NULL PRIMARY KEY,
    "name"     TEXT    NOT NULL,
    "capacity" INTEGER NOT NULL,
    "parallel" INTEGER NOT NULL
);
CREATE TABLE subjects (
    "pk"              INTEGER NOT NULL PRIMARY KEY,
    "name"            TEXT    NOT NULL,
    "frequency"       INTEGER NOT NULL,
    "contiguous_time" INTEGER NOT NULL
);
CREATE TABLE teachers (
    "pk" INTEGER PRIMARY KEY NOT NULL,
    "name" TEXT NOT NULL
);
CREATE TABLE teachers_timeranges (
    "pk"      INTEGER NOT NULL PRIMARY KEY,
    "start"   INTEGER NOT NULL,
    "end"     INTEGER NOT NULL,
    "teacher" INTEGER NOT NULL,
    FOREIGN KEY (teacher) REFERENCES teachers(pk)
);
